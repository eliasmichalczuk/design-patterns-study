<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script>
    function subscribe(type, callback) {
      // do somethign special on click
      callback('type', 'emmited value');
    }
  </script>
</head>

<body>
  <button id="emitValue">Emit value</button>
</body>
<script>
  // A very simple new mail handler

  // A count of the number of messages received
  var mailCounter = 0,
  emitValue = document.getElementById('emitValue');
  emitValue.onclick = subscribe();

  // Initialize subscribers that will listen out for a topic
  // with the name "inbox/newMessage".

  // Render a preview of new messages
  var subscriber1 = subscribe("inbox/newMessage", function (topic, data) {

    // Log the topic for debugging purposes
    console.log("nova mensagem: ", topic);

    // Use the data that was passed from our subject
    // to display a message preview to the user
    $(".messageSender").html(data.sender);
    $(".messagePreview").html(data.body);

  });

  // Here's another subscriber using the same data to perform
  // a different task.

  // Update the counter displaying the number of new
  // messages received via the publisher

  var subscriber2 = subscribe("inbox/newMessage", function (topic, data) {

    $('.newMessageCounter').html(++mailCounter);

  });

  publish("inbox/newMessage", [{
    sender: "hello@google.com",
    body: "Hey there! How are you doing today?"
  }]);

 // We could then at a later point unsubscribe our subscribers
 // from receiving any new topic notifications as follows:
 // unsubscribe( subscriber1 );
 // unsubscribe( subscriber2 );
</script>

</html>